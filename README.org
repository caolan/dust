* Dust
A daemon for disseminating events over a peer-to-peer network.

** Install
*** Requirements
- [[https://code.call-cc.org/][CHICKEN Scheme 4.x]]
- [[https://libsodium.org][libsodium]]
- [[https://symas.com/offerings/lightning-memory-mapped-database/][LMDB]]
- [[http://miniupnp.free.fr/][miniupnpc]]

#+BEGIN_SRC shell
  sudo apt-get install chicken-bin libsodium-dev liblmdb-dev libminiupnpc-dev
#+END_SRC

Currently (until https://bugs.call-cc.org/ticket/1352 is resolved), a patched version of the unix-sockets egg is required. Please fetch the source for this egg by doing:

#+BEGIN_SRC shell
  chicken-install -r unix-sockets
#+END_SRC

Then apply the patch from the ticket and, in the unix-sockets directly, do:

#+BEGIN_SRC shell
  chicken-install -s
#+END_SRC

*** Build and install
#+BEGIN_SRC shell
  chicken-install -s
#+END_SRC

** Run tests
Install test dependencies.

#+BEGIN_SRC shell
  chicken-install -s test test-generative data-generators
#+END_SRC

Run the unit tests.

#+BEGIN_SRC shell
  csi -s tests/run.scm
#+END_SRC

_NOTE_: At the time of writing there is an issue with the test egg,
which causes errors outside of tests to fail to be reported in the
test suite exit code. I'm using a patched version until this issue is
resolved, see https://bugs.call-cc.org/ticket/1358#comment:1 for
status and patch.
